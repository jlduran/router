##############################################################
# DO NOT MODIFY THIS FILE!
#
# Use /etc/sysctl.conf.local.
##############################################################

# Run debugger on kernel panic
debug.debugger_on_panic=0

# Print stack trace on kernel panic
debug.trace_on_panic=1

# Restrict ability to change keymap
hw.kbd.keymap_restrict_change=4

# Microarchitectural Data Sampling Mitigation
# (0 - off, 1 - on VERW, 2 - on SW, 3 - on AUTO)
hw.mds_disable=3

# Maximum listen socket pending connection accept queue size
kern.ipc.soacceptqueue=1024

# Seconds to wait before rebooting after a panic
kern.panic_reboot_wait_time=0

# Random PID modulus. Special values: 0: disable, 1: choose random value
kern.randompid=1

# Enable bell
kern.vt.enable_bell=0

# IPsec input bpf mask
net.enc.in.ipsec_bpf_mask=2

# IPsec input firewall filter mask
net.enc.in.ipsec_filter_mask=2

# IPsec output bpf mask
net.enc.out.ipsec_bpf_mask=1

# ICMP reply from incoming interface for non-local packets
net.inet.icmp.reply_from_interface=1

# Verify packet arrives on correct interface
net.inet.ip.check_interface=1

# Enable IP options processing ([LS]SRR, RR, TS)
net.inet.ip.process_options=0

# Assign random ip_id values
net.inet.ip.random_id=1

# Enable sending IP redirects
net.inet.ip.redirect=0

# Maximum TTL on IP packets
net.inet.ip.ttl=255

# Use asynchronous mode to parallelize crypto jobs
net.inet.ipsec.async_crypto=1

# Do not send RST on segments to closed ports
net.inet.tcp.blackhole=2

# Default congestion control algorithm
net.inet.tcp.cc.algorithm=cubic

# TCP ECN support
net.inet.tcp.ecn.enable=1

# Certain ICMP unreachable messages may abort connections in SYN_SENT
net.inet.tcp.icmp_may_rst=0

# Default TCP Maximum Segment Size
net.inet.tcp.mssdflt=1460

# Do not create compressed TCP TIME_WAIT entries for local connections
net.inet.tcp.nolocaltimewait=1

# Enable Path MTU Discovery
net.inet.tcp.path_mtu_discovery=0

# Mask of enabled RFC4620 node information query types
net.inet6.icmp6.nodeinfo=0

# Accept ICMPv6 redirect messages
net.inet6.icmp6.rediraccept=0

# Send ICMPv6 redirects for unforwardable IPv6 packets
net.inet6.ip6.redirect=0

# Unprivileged processes cannot create hard links to files owned by other groups
security.bsd.hardlink_check_gid=1

# Unprivileged processes cannot create hard links to files owned by other users
security.bsd.hardlink_check_uid=1

# Unprivileged processes may see subjects/objects with different real gid
security.bsd.see_other_gids=0

# Unprivileged processes may see subjects/objects with different real uid
security.bsd.see_other_uids=0

# Specifies the number of guard pages for a stack that grows
security.bsd.stack_guard_page=1

# Unprivileged processes may use process debugging facilities
security.bsd.unprivileged_proc_debug=0

# Unprivileged processes may read the kernel message buffer
security.bsd.unprivileged_read_msgbuf=0

# Minimum ashift used when creating new top-level vdevs
vfs.zfs.vdev.min_auto_ashift=12
